<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Målgruppsanalys - 2&nbsp; Hur kan vi arbeta med målgruppsanalys?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Analysmodeller.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #f0f0f0;
      }

      .quarto-title-block .quarto-title-banner {
        color: #f0f0f0;
background: #009ca6;
      }
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Introduktion.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Hur kan vi arbeta med målgruppsanalys?</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Hur kan vi arbeta med målgruppsanalys?</span></h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta column-body">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Målgruppsanalys</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ClaraLarsson" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Välkommen till ett stödmaterial för beräkning av målgruppsvolymer i socialtjänsten!</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Introduktion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Hur kan vi arbeta med målgruppsanalys?</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Analysmodeller.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Stöddokument</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Innehållsförteckning</h2>
   
  <ul>
  <li><a href="#hur-kan-vi-arbeta-med-målgruppsanalys" id="toc-hur-kan-vi-arbeta-med-målgruppsanalys" class="nav-link active" data-scroll-target="#hur-kan-vi-arbeta-med-målgruppsanalys"><span class="header-section-number">2.1</span> Hur kan vi arbeta med målgruppsanalys?</a></li>
  <li><a href="#kartläggning" id="toc-kartläggning" class="nav-link" data-scroll-target="#kartläggning"><span class="header-section-number">2.2</span> Kartläggning</a></li>
  <li><a href="#kvantifiering-och-analys" id="toc-kvantifiering-och-analys" class="nav-link" data-scroll-target="#kvantifiering-och-analys"><span class="header-section-number">2.3</span> Kvantifiering och analys</a></li>
  <li><a href="#prioritering-och-insatsanalys" id="toc-prioritering-och-insatsanalys" class="nav-link" data-scroll-target="#prioritering-och-insatsanalys"><span class="header-section-number">2.4</span> Prioritering och insatsanalys</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-body" id="quarto-document-content">





<section id="hur-kan-vi-arbeta-med-målgruppsanalys" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="hur-kan-vi-arbeta-med-målgruppsanalys"><span class="header-section-number">2.1</span> Hur kan vi arbeta med målgruppsanalys?</h2>
<p>För att kunna utveckla ett mer behovsanpassat och förebyggande socialt arbete behöver socialtjänsten god kunskap om sina målgrupper. Det handlar både om att veta vilka grupper som ska prioriteras, och att kunna kvantifiera dessa – alltså uppskatta hur stora de är och hur många som nås av befintliga insatser. Nedan presenteras en process i fyra steg som kan användas som vägledning i detta arbete.</p>
<p><strong>1. Kartlägg målgrupper - Utgå från uppdrag och behov</strong> Börja med att definiera vilka målgrupper socialtjänsten har i uppdrag att arbeta med. Det kan handla om lagstiftningens krav, lokala prioriteringar eller identifierade samhällsutmaningar. Det är grunden för hela analysarbetet.</p>
<p><strong>2. Identifiera sätt att kvantifiera målgrupperna</strong> När målgrupperna är definierade behöver ni hitta sätt att uppskatta deras storlek. Det kan handla om att använda registerdata, statistik, enkäter eller andra informationskällor. Här är det viktigt att anpassa ambitionsnivån efter de resurser och data som finns tillgängliga.</p>
<p><strong>3. Ta fram analysmodeller</strong> Baserat på valda datakällor och analysmöjligheter formuleras analysmodeller som gör det möjligt att kvantifiera målgrupperna på ett systematiskt sätt. Ibland kan detta göras internt, men ofta krävs samverkan med andra aktörer som exempelvis regionen eller skolan.</p>
<p><strong>4. Använd analysen för att utveckla insatser</strong> Slutligen används resultaten för att jämföra den identifierade målgruppen med de insatser som faktiskt finns tillgängliga. Får rätt personer rätt stöd? Saknas något? Behöver insatser skalas upp eller omformas? Genom att anpassa insatsutbudet utifrån målgruppsanalysen kan socialtjänsten bli mer träffsäker och effektiv i sitt förebyggande arbete.</p>
<p>Se bilden nedan som en översiktlig processkarta som illustrerar dessa fyra steg – med stödjande frågor att reflektera över i varje del.</p>
<p><img src="./hur.png" class="img-fluid"></p>
</section>
<section id="kartläggning" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="kartläggning"><span class="header-section-number">2.2</span> Kartläggning</h2>
<p>Ett första steg i målgruppsarbetet är att kartlägga de målgrupper socialtjänsten har. Detta styrs först och främst av de lagrum som reglerar socialtjänstens uppdrag. Dessa lagrum lämnar dock ofta utrymme för tolkning när det gäller konkreta målgrupper. Därför kan det behövas ett lokalt arbete i att dels tolka lagtexten och lagens förarbeten, men också i att inom verksamheten diskutera och avgränsa uppdragens målgrupper utifrån forskning och verksamhetserfarenhet.</p>
<p>Illustrationen nedan visar ett exempel på kartläggningsprocess från Mölndals stad, som tar utgångspunkt i lagtexter och förarbeten och för att bestämma de grundläggande målgrupperna. För att bryta ner dessa målgrupper i mer operativt releventa grupper används sedan vägledning från expertmyndigheter, riskfaktorer kopplat till målgruppen samt lokala chefers behov.</p>
<p><img src="./kartlaggning.png" class="img-fluid"> Exempel på underlag som kan användas för att identifiera relevanta riskfaktorer kopplat till målgrupperna är <a href="https://ri.diva-portal.org/smash/record.jsf?pid=diva2%3A1656234&amp;dswid=-7367">RISE rapport om risk- och skyddsfaktorer</a>.</p>
<p>När kartläggninsgarbetet är genomfört finns en bruttolista på relevanta målgrupper som socialtjänsten har uppdrag att arbeta med. Därefter kommer frågeställningarna kring hur stora målgrupperna är och hur lätt det är att nå dem, vilket analyseras i nästa steg.</p>
</section>
<section id="kvantifiering-och-analys" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="kvantifiering-och-analys"><span class="header-section-number">2.3</span> Kvantifiering och analys</h2>
<p>I arbetet med målgruppsanalys finns olika nivåer av ambition och tillgång till data. Det viktiga är att utgå från den egna kommunens förutsättningar – både vad gäller kapacitet, tillgång till information och vilka frågor som behöver besvaras. Oavsett nivå kan målgruppsanalys bidra till bättre planering, styrning och utveckling av socialtjänstens förebyggande arbete.</p>
<p>En grund för att diskutera verksamhetens arbete med olika målgrupper och behov kan vara resultaten i SKR-undersökningen <a href="https://skr.se/framtidenssocialtjanst/kunskapochstod/lagesochbehovsanalyser/skattalagetsocialtjansten.84184.html">Skatta läget</a>.</p>
<p><strong>Exempel på verktyg och resurser för analysarbete</strong></p>
<p><img src="./analyser.png" class="img-fluid"></p>
<p><strong>Löpande och indikatorbaserad analys</strong></p>
<p>En enklare, men värdefull nivå av målgruppsanalys kan bygga på återkommande uppföljning av ett urval indikatorer från tillgängliga källor, såsom verksamhetssystem, statistik från SCB eller annan befolkningsdata. Detta kan ge en löpande bild av utvecklingen i kommunen och bidra till tidig upptäckt av förändringar.</p>
<p><strong>Exempel:</strong></p>
<p>• Konsumtion av socialtjänstens insatser över tid</p>
<p>• Årliga målgruppsuppskattningar kopplade till olika insatser</p>
<p>Här finns ett exempel från Göteborgs Stad kring hur befolkningsstatistik kan användas för att beräkna årsmålgrupper för föräldrastödsinsatser: <a href="./arsmalgrupp_gbg.xlsx">Göteborgs stad: Beräkning av årsmålgrupper</a></p>
<p>• Statistisk analys av befolkningsutveckling, socioekonomiska förutsättningar eller skolresultat</p>
<p>Här finns ett exempel på hur en dash-board med relevanta indikatorer framtagen av Stockholms stad med utgångspunkt i målgruppen Barn och Unga.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./code.html"><img src="Dashboard.png" class="img-fluid figure-img" alt="Indikatorer över socialtjänstens målgrupper"></a></p>
<figcaption>Indikatorer över socialtjänstens målgrupper</figcaption>
</figure>
</div>
<p><strong>Fördjupad målgruppsanalys</strong></p>
<p>I vissa fall behövs en mer djupgående analys för att bättre förstå bakomliggande faktorer, behov eller risker i befolkningen. Här kan både kvantitativa och kvalitativa metoder användas för att komplettera statistiken med fördjupad kunskap om levnadsförhållanden och upplevda behov.</p>
<p><strong>Exempel:</strong></p>
<p>• Enkätundersökningar för att kartlägga förekomst av riskfaktorer, exempelvis psykisk ohälsa eller föräldraförmåga</p>
<p>• Intervjuer eller fokusgrupper med ungdomar om livsvillkor, trygghet och tillgång till stöd</p>
<p>• Analys av sammansatt data från olika verksamheter för att identifiera komplexa behov</p>
<p>Här finns ett exempel på missv och enkät kring föräldraskap framtaget av Göteborgs Stad.</p>
<ul>
<li><p><a href="./enkatforaldra.xlsx">Göteborgs stad: Exempel på enkät för att mäta föräldraförmåga</a></p></li>
<li><p><a href="./missiv.xlsx">Göteborgs stad:Exempel på enkätmissiv</a></p></li>
</ul>
<p><strong>Kombinerade modeller</strong></p>
<p>Det mest träffsäkra kunskapsunderlaget får man ofta genom att kombinera flera typer av analyser – en grundläggande indikatorbaserad analys kompletterad med mer kvalitativa eller tematiska studier vid behov. På så sätt kan kommunen följa övergripande trender och samtidigt fördjupa förståelsen där det behövs.</p>
</section>
<section id="prioritering-och-insatsanalys" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="prioritering-och-insatsanalys"><span class="header-section-number">2.4</span> Prioritering och insatsanalys</h2>
<p>Efter att målgrupperna kartlagts och volymberäknats kan det finnas behov av att utifrån de underlagen prioritera vilka målgrupper socialtjänsten ska arbeta med under den närmaste planeringshorisonten.</p>
<p>En viktig fråga att beakta i prioriteringsdiskussionen är huruvida det finns insatser för en målgrupp och hur kostnadseffektiv insatsen är.</p>
<p><strong>Insatsanalys</strong></p>
<p>För att det ska vara aktuellt att arbeta med en målgrupp finns det ett behov av tillgänliga insatser som kan möta målgruppens behov. Det kan redan finnas kunskapsbaserade insatser som används eller kan implementeras i verksamheten och här blir det viktigt att ställa sig frågan vad som redan görs för målgrupperna och hur bra det fungerar.</p>
<p>Exempel på en visualiserad insatskartläggning: <img src="./Insatskarta.png" class="img-fluid"> En viktig fråga är exemplevis hur väl socialtjänsten når ut med befintliga insatser, här kan det finnas ett behov av att följa upp och kartlägga genomfört arbete för att kunna svara på den frågan.</p>
<p>Här finns ett exempel på en uppföljningsenkät <a href="./missiv.xlsx">Uppföljningsenkät</a> för ABC-programmet i Göteborgs stad som används för att se hur stort deltagande staden har i insatsen samt hur väl staden når föräldrar med olika bakgrund. Detta kan bidra till en diskussion om hur staden ska prioritera satsningen på fölräldrastöd i stadens olika områden.</p>
<p>Om socialtjänsten vid sin insatskartläggning märker gap i verksamheten i förhållande till målgruppernas behov så kan det finnas behov av att implementera kunskapsbaserade insatser eller att utveckla nya insatser för målgruppens behov.</p>
<p><strong>Ekonomisk analys</strong></p>
<p>I prioriteringsarbetet kan det också finnas behov av att analysera de ekonomiska aspekterna av att arbeta med en målgrupp eller en insats. Exempelvis kan det vara intressant att undersöka om det finns någon forskning som pekar på kostnadseffektiva insatser för målgruppens behov eller att analysera hur de ekonomiska konsekvenserna för verksamheten påverkas av att insatser kopplat till målgruppens behov görs tidigt eller sent i preventionstriangeln.</p>
<p>Göteborgs Stad har tagit fram en verksamhetsekonomisk analys av att satsa på föräldratstöd jämfört med att barn och unga aktualiseras för kriminellt beteende inom socialtjänsten och får öppenvård, HVB-, SiS- och/eller Familjehemsplacering. Här finns allt underlag till dessa beräkningar, som går att anpassa efter andra insatser:</p>
<ul>
<li><a href="https://osf.io/cgfxb/">Göteborgs stad: Ekonomisk modell för att beräkna vinster av föräldrastöd</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Välkommen till ett stödmaterial för beräkning av målgruppsvolymer i socialtjänsten!">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Välkommen till ett stödmaterial för beräkning av målgruppsvolymer i socialtjänsten!</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Analysmodeller.html" class="pagination-link" aria-label="Stöddokument">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Stöddokument</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>